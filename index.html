<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet/dist/leaflet.css">
    <link rel="stylesheet" href="agro.css">
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <h4 class="text-center">Oyo State Dashboard</h4>
        <a href="#" class="nav-link" id="dashboardButton">Dashboard</a>
        <div class="nav-item dropdown">
            <a href="#" class="dropdown-toggle" id="sectionsDropdown" role="button" data-bs-toggle="collapse" data-bs-target="#sectionsMenu" aria-expanded="false">
                Sections
            </a>
            <div id="sectionsMenu" class="collapse">
                <a class="dropdown-item" href="#">Business</a>
                <a class="dropdown-item" href="#">Market Crisis</a>
                <a class="dropdown-item" href="#">Profile</a>
            </div>
        </div>
        <a href="#" class="nav-link">Farmers' Registration</a>
    </div>

    <!-- Top Header -->
    <div class="top-header">
        <span class="menu-toggle" id="menuToggle">â˜°</span>
        <h4>Dashboard</h4>
    </div>

    <div class="content mt-5">
        <div class="container mt-4">
            <div class="dashboard-header">
                <h1>Dashboard</h1>
            </div>

            <!-- Summary Cards -->
            <div class="row text-center">
                <div class="col-md-4">
                    <div class="card shadow">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 -960 960 960" width="44px" class="svg one"><path d="M40-160v-112q0-34 17.5-62.5T104-378q62-31 126-46.5T360-440q66 0 130 15.5T616-378q29 15 46.5 43.5T680-272v112H40Zm720 0v-120q0-44-24.5-84.5T666-434q51 6 96 20.5t84 35.5q36 20 55 44.5t19 53.5v120H760ZM360-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47Zm400-160q0 66-47 113t-113 47q-11 0-28-2.5t-28-5.5q27-32 41.5-71t14.5-81q0-42-14.5-81T544-792q14-5 28-6.5t28-1.5q66 0 113 47t47 113ZM120-240h480v-32q0-11-5.5-20T580-306q-54-27-109-40.5T360-360q-56 0-111 13.5T140-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T440-640q0-33-23.5-56.5T360-720q-33 0-56.5 23.5T280-640q0 33 23.5 56.5T360-560Zm0 320Zm0-400Z"/></svg>
                        <div class="card-body">
                            <h5>Total Respondents</h5>
                            <h2>2662</h2>
                            <p>77% Male | 22.8% Female</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card shadow">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" class="svg"><path d="M120-520v-320h320v320H120Zm0 400v-320h320v320H120Zm400-400v-320h320v320H520Zm0 400v-320h320v320H520ZM200-600h160v-160H200v160Zm400 0h160v-160H600v160Zm0 400h160v-160H600v160Zm-400 0h160v-160H200v160Zm400-400Zm0 240Zm-240 0Zm0-240Z"/></svg>
                        <div class="card-body">
                            <h5>Areas Covered</h5>
                            <h2>33 LGAs</h2>
                            <p>1746 Communities</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card shadow">
                        <svg xmlns="http://www.w3.org/2000/svg" class="svg" viewBox="0 -960 960 960" ><path d="M240-80q-33 0-56.5-23.5T160-160v-480q0-33 23.5-56.5T240-720h80q0-66 47-113t113-47q66 0 113 47t47 113h80q33 0 56.5 23.5T800-640v480q0 33-23.5 56.5T720-80H240Zm0-80h480v-480h-80v80q0 17-11.5 28.5T600-520q-17 0-28.5-11.5T560-560v-80H400v80q0 17-11.5 28.5T360-520q-17 0-28.5-11.5T320-560v-80h-80v480Zm160-560h160q0-33-23.5-56.5T480-800q-33 0-56.5 23.5T400-720ZM240-160v-480 480Z"/></svg>
                        <div class="card-body">
                            <h5>Businesses</h5>
                            <h2>2662</h2>
                            <p>39.5% Registered</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Charts and Graphs -->
            <div class="row">
                <div class="col-md-8">
                    <div class="card shadow">
                        <div class="card-body">
                            <h5>Distribution of Respondents by LGA</h5>
                            <canvas id="distributionChart" class="chart-container"></canvas>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card shadow mb-3">
                        <div class="card-body">
                            <h5>Value Chains</h5>
                            <canvas id="valueChainChart" class="chart-container"></canvas>
                        </div>
                    </div>
                    <div class="card shadow">
                        <div class="card-body">
                            <h5>Land Ownership</h5>
                            <canvas id="landOwnershipChart" class="chart-container"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Table -->
             <div class="body">
            <div class="table-container">
                <h2>Entries Table</h2>
                <table id="entriesTable" class="display">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>LGA</th>
                            <th>Phone</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Table data will be inserted here dynamically -->
                    </tbody>
                </table>
            </div>
        </div>
            <!-- jQuery -->
            <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
            <!-- DataTables JS -->
            <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

            <!-- Map and Crisis History Section -->
            <div class="row mt-4">
                <div class="col-md-8">
                    <div class="card shadow">
                        <div class="card-body">
                            <h5>Geographical Distribution</h5>
                            <div id="map"></div>
                            <div class="map-legend mt-2">
                                <strong>Legend:</strong>
                                <ul>
                                    <li><span style="color:green">&#9679;</span> Sheep/Goat</li>
                                    <li><span style="color:orange">&#9679;</span> Eggs</li>
                                    <li><span style="color:red">&#9679;</span> Broilers</li>
                                    <li><span style="color:blue">&#9679;</span> Dairy</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card shadow">
                        <div class="card-body">
                            <h5>Crisis History</h5>
                            <canvas id="crisisHistoryChart" class="chart-container"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="agro.js"></script>
</body>
</html>
